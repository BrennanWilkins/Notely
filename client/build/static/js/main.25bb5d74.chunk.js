(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(27),r=a.n(n),o=r.a.create({baseURL:"https://notely-app.herokuapp.com/api/"}),s=r.a.create({baseURL:"https://notely-app.herokuapp.com/api/auth/"})},4:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"p",(function(){return r})),a.d(t,"n",(function(){return o})),a.d(t,"l",(function(){return s})),a.d(t,"m",(function(){return i})),a.d(t,"k",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"o",(function(){return m})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return g})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"i",(function(){return h})),a.d(t,"j",(function(){return b})),a.d(t,"c",(function(){return E})),a.d(t,"r",(function(){return O})),a.d(t,"q",(function(){return v}));var n="RESET_STOPWATCH",r="STOP_STOPWATCH",o="STOPWATCH_START",s="SET_STOPWATCH_TIME",i="STOPWATCH_FIRST_START",c="SET_LAP_TIME",l="CHANGE_POMODORO",u="RESET_POMODORO",m="STOP_POMODORO",d="POMODORO_START",g="POMODORO_FINISHED",p="POMODORO_CYCLE_END",f="CHANGE_TIMER",h="RESET_TIMER",b="SET_FIRST_START",E="PAUSE_TIMER",O="TIMER_START",v="TIMER_CYCLE_END"},42:function(e,t,a){e.exports={Error:"ErrorDisplay_Error__3du5n"}},43:function(e,t,a){e.exports={loader:"Spinner_loader__1zFq3",load4:"Spinner_load4__n8VQ5"}},47:function(e,t,a){e.exports=a(74)},5:function(e,t,a){e.exports={Container:"Auth_Container__x3geK",FormContainer:"Auth_FormContainer__2D9TT",Header:"Auth_Header__2vIdP",Form:"Auth_Form__1PSZq",Demo:"Auth_Demo__3sCRP",MessageLogin:"Auth_MessageLogin__286ZE",MessageSignup:"Auth_MessageSignup__1lohg",Remember:"Auth_Remember__zJI4p",ErrorMsg:"Auth_ErrorMsg__1V1UP",MoveError:"Auth_MoveError__26fNO",Move:"Auth_Move__2D-YX"}},52:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),s=a.n(o),i=(a(52),a(13)),c=a(14),l=a(16),u=a(15),m=a(42),d=a.n(m),g=a(12),p=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{className:d.a.Error},r.a.createElement("h1",null,"Something went wrong."),r.a.createElement(g.b,{to:"/"},r.a.createElement("button",null,"Back to Notely Home"))):this.props.children}}]),a}(r.a.Component),f=a(1),h=a(5),b=a.n(h),E=a(43),O=a.n(E),v=function(e){return r.a.createElement("div",{className:O.a.loader},"Loading...")},S=a(11),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loginInfo:{email:"",password:""},signupInfo:{email:"",password:"",confirmPassword:""},error:!1,errorMsg:"",loading:!1,remember:!1},e.checkValidity=function(){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(e.props.login){if(0===e.state.loginInfo.email.length||0===e.state.loginInfo.password.length)return e.setState({error:!0,errorMsg:"Email and password must not be empty."}),!0;if(!t.test(e.state.loginInfo.email)||e.state.loginInfo.email.length>70||e.state.loginInfo.password.length>70)return e.setState({error:!0,errorMsg:"There is no account for the email you entered."}),!0}else{if(!t.test(e.state.signupInfo.email))return e.setState({error:!0,errorMsg:"Please enter a valid email address."}),!0;if(0===e.state.signupInfo.email.length||0===e.state.signupInfo.password.length)return e.setState({error:!0,errorMsg:"Email and password must not be empty."}),!0;if(e.state.signupInfo.password.length>70)return e.setState({error:!0,errorMsg:"Password must be less than 70 characters."}),!0;if(e.state.signupInfo.password.length<7)return e.setState({error:!0,errorMsg:"Password must be at least 7 characters long."}),!0;if(e.state.signupInfo.password!==e.state.signupInfo.confirmPassword)return e.setState({error:!0,errorMsg:"Confirm password must be equal to password."}),!0}return!1},e.toggleLoading=function(){e.setState((function(e){return{loading:!e.loading,error:!1,errorMsg:""}}))},e.authFailed=function(t){e.setState({loading:!1,error:!0,errorMsg:t})},e.loginHandler=function(t){if(t.preventDefault(),!e.state.loading&&!e.checkValidity()){e.toggleLoading();var a={email:e.state.loginInfo.email,password:e.state.loginInfo.password};S.a.post("login",a).then((function(t){if(200===t.status)return localStorage.setItem("token",t.data.token),S.b.defaults.headers.common["x-auth-token"]=t.data.token,localStorage.setItem("remember",e.state.remember),localStorage.setItem("email",e.state.loginInfo.email),e.props.isAuth();e.authFailed(t.data.message)})).catch((function(t){e.authFailed("There was an error logging in.")}))}},e.signupHandler=function(t){if(t.preventDefault(),!e.state.loading&&!e.checkValidity()){e.toggleLoading();var a={email:e.state.signupInfo.email,password:e.state.signupInfo.password,confirmPassword:e.state.signupInfo.confirmPassword};S.a.post("signup",a).then((function(t){if(200===t.status){var a={email:e.state.signupInfo.email,password:e.state.signupInfo.password};S.a.post("login",a).then((function(t){return 200===t.status?(localStorage.setItem("token",t.data.token),S.b.defaults.headers.common["x-auth-token"]=t.data.token,localStorage.setItem("remember",e.state.remember),localStorage.setItem("email",e.state.signupInfo.email),e.props.isAuth()):e.authFailed("There was an error signing up.")})).catch((function(t){e.authFailed("There was an error signing up.")}))}e.authFailed("There was an error signing up.")})).catch((function(t){e.authFailed("There was an error signing up.")}))}},e.changeLoginInfo=function(t){if(!e.state.loading){var a=Object(f.a)({},e.state.loginInfo);a[t.target.name]=t.target.value,e.setState({loginInfo:a,error:!1,errorMsg:""})}},e.changeSignupInfo=function(t){if(!e.state.loading){var a=Object(f.a)({},e.state.signupInfo);a[t.target.name]=t.target.value,e.setState({signupInfo:a,error:!1,errorMsg:""})}},e.clearFields=function(){e.setState({loginInfo:{email:"",password:""},signupInfo:{email:"",password:"",confirmPassword:""},loading:!1,error:!1,errorMsg:"",remember:!1})},e.toggleRemember=function(){e.setState((function(e){return{remember:!e.remember}}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",{className:this.state.error?[b.a.Remember,b.a.Move].join(" "):b.a.Remember},r.a.createElement("input",{type:"checkbox",onChange:this.toggleRemember,checked:this.state.remember}),r.a.createElement("p",null,"Remember me")),t=this.props.login?r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:b.a.Form,onSubmit:this.loginHandler},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",value:this.state.loginInfo.email,onChange:this.changeLoginInfo}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:this.state.loginInfo.password,onChange:this.changeLoginInfo}),r.a.createElement("p",{className:this.state.error?[b.a.ErrorMsg,b.a.MoveError].join(" "):b.a.ErrorMsg},this.state.errorMsg),r.a.createElement("button",{className:this.state.error?b.a.Move:void 0},this.props.login?"login":"create")),e):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:b.a.Form,onSubmit:this.signupHandler},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",value:this.state.signupInfo.email,onChange:this.changeSignupInfo}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:this.state.signupInfo.password,onChange:this.changeSignupInfo}),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"confirmPassword",value:this.state.signupInfo.confirmPassword,onChange:this.changeSignupInfo}),r.a.createElement("p",{className:this.state.error?[b.a.ErrorMsg,b.a.MoveError].join(" "):b.a.ErrorMsg},this.state.errorMsg),r.a.createElement("button",{className:this.state.error?b.a.Move:void 0},this.props.login?"login":"create")),e),a=this.props.login?r.a.createElement("p",{className:b.a.MessageSignup},"Not registered? ",r.a.createElement(g.b,{to:"/signup",onClick:this.clearFields},"Create an account")):r.a.createElement("p",{className:b.a.MessageLogin},"Already registered? ",r.a.createElement(g.b,{to:"/login",onClick:this.clearFields},"Login"));return r.a.createElement("div",{className:b.a.Container},r.a.createElement("div",{className:b.a.FormContainer},r.a.createElement("p",{className:b.a.Demo},"See a demo ",r.a.createElement(g.b,{to:"/demo",onClick:this.clearFields},"here")),r.a.createElement("h1",{className:b.a.Header},"Notely"),t,this.state.loading&&r.a.createElement(v,null),a))}}]),a}(n.Component),j=a(3),w=a(18),I=a(31),M=a(45),_=a(4),y={displayTime:"25:00",pomodoroCount:0,currentMax:25,sec:0,min:25,started:!1},x=function(e,t){var a="".concat(t.time,":00");return Object(f.a)(Object(f.a)({},e),{},{min:t.time,sec:0,started:!1,currentMax:t.time,displayTime:a})},A=function(e,t){var a="".concat(e.currentMax,":00");return Object(f.a)(Object(f.a)({},e),{},{started:!1,min:e.currentMax,sec:0,displayTime:a})},C=function(e,t){var a="".concat(e.currentMax,":00"),n=e.pomodoroCount+1;return Object(f.a)(Object(f.a)({},e),{},{started:!1,min:e.currentMax,sec:0,displayTime:a,pomodoroCount:n})},k=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{displayTime:t.displayTime,sec:t.sec,min:t.min})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.a:return x(e,t);case _.g:return A(e);case _.o:return Object(f.a)(Object(f.a)({},e),{},{started:!1});case _.f:return Object(f.a)(Object(f.a)({},e),{},{started:!0});case _.e:return C(e);case _.d:return k(e,t);default:return e}},R=a(20),H={displayTime:"",hours:0,maxHours:0,min:0,maxMin:0,sec:0,maxSec:0,started:!1,firstStart:!1},N=function(e,t){var a=e.maxSec<10?"0"+e.maxSec:e.maxSec,n=e.maxMin<10?"0"+e.maxMin:e.maxMin,r=0===e.maxHours?"".concat(e.min,":").concat(a):"".concat(e.hours,":").concat(n,":").concat(a);return Object(f.a)(Object(f.a)({},e),{},{firstStart:!0,displayTime:r})},D=function(e,t){var a=e.maxSec<10?"0"+e.maxSec:e.maxSec,n=e.maxMin<10?"0"+e.maxMin:e.maxMin,r=0===e.maxHours?"".concat(e.maxMin,":").concat(a):"".concat(e.maxHours,":").concat(n,":").concat(a);return Object(f.a)(Object(f.a)({},e),{},{started:!1,firstStart:!1,hours:e.maxHours,min:e.maxMin,sec:e.maxSec,displayTime:r})},F=function(e,t){var a=t.sec<10?"0"+t.sec:t.sec,n=t.min<10?"0"+t.min:t.min,r=0===t.hours?"".concat(t.min,":").concat(a):"".concat(t.hours,":").concat(n,":").concat(a);return Object(f.a)(Object(f.a)({},e),{},{hours:t.hours,min:t.min,sec:t.sec,displayTime:r})},L=function(e,t){var a;if(t.e.value<0)return Object(f.a)({},e);var n="maxHours"===t.e.name?"hours":"maxMin"===t.e.name?"min":"sec",r=Number(t.e.value);return Object(f.a)(Object(f.a)({},e),{},(a={},Object(R.a)(a,t.e.name,r),Object(R.a)(a,n,r),a))},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.j:return N(e);case _.c:return Object(f.a)(Object(f.a)({},e),{},{started:!1});case _.r:return Object(f.a)(Object(f.a)({},e),{},{started:!0});case _.i:return D(e);case _.q:return F(e,t);case _.b:return L(e,t);default:return e}},q=a(41),z={displayTime:"00:00.0",lapDisplayTime:"00:00.0",time:{fractionSec:0,sec:0,min:0,started:!1},lapTime:{fractionSec:0,sec:0,min:0,started:!1},laps:[],firstStart:!1},U=function(e,t){if(!e.time.started){var a=Object(f.a)({},e.time);a.fractionSec=0,a.sec=0,a.min=0,a.started=!1;var n=Object(f.a)({},e.lapTime);return n.fractionSec=0,n.sec=0,n.min=0,n.started=!1,Object(f.a)(Object(f.a)({},e),{},{time:a,lapTime:n,displayTime:"00:00.0",laps:[],firstStart:!1})}var r=Object(f.a)({},e.lapTime),o=r.sec<10?"0"+r.sec:r.sec,s=r.min<10?"0"+r.min:r.min,i="".concat(s,":").concat(o,".").concat(r.fractionSec);r.fractionSec=0,r.sec=0,r.min=0,r.started=!1;var c=Object(q.a)(e.laps);return c.unshift(e.lapDisplayTime),Object(f.a)(Object(f.a)({},e),{},{lapTime:r,lapDisplayTime:i,laps:c})},V=function(e,t){var a=Object(f.a)({},e.time);return a.started=!1,Object(f.a)(Object(f.a)({},e),{},{time:a})},Z=function(e,t){var a=Object(f.a)({},e.time);a.started=!0;var n=Object(f.a)({},e.lapTime);return n.started=!0,Object(f.a)(Object(f.a)({},e),{},{time:a,lapTime:n})},B=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{time:t.time,displayTime:t.displayTime})},J=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{firstStart:!0})},Y=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{lapTime:t.lapTime,lapDisplayTime:t.lapDisplayTime})},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.h:return U(e);case _.p:return V(e);case _.n:return Z(e);case _.l:return B(e,t);case _.m:return J(e);case _.k:return Y(e,t);default:return e}},$=r.a.lazy((function(){return Promise.all([a.e(2),a.e(3)]).then(a.bind(null,284))})),K=Object(w.c)({stopwatch:G,pomodoro:P,timer:W}),Q=Object(w.d)(K,Object(w.a)(M.a)),X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isAuth:!1},e.handleWindowClose=function(){"false"===localStorage.remember&&(localStorage.removeItem("token"),localStorage.removeItem("remember"),localStorage.removeItem("email"))},e.logout=function(){localStorage.removeItem("token"),localStorage.removeItem("remember"),localStorage.removeItem("email"),delete S.b.defaults.headers.common["x-auth-token"],e.setState({isAuth:!1})},e.isAuthHandler=function(){e.setState({isAuth:!0})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleWindowClose);var e=localStorage.token;e&&(S.b.defaults.headers.common["x-auth-token"]=e,this.setState({isAuth:!0}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleWindowClose)}},{key:"render",value:function(){var e=this,t=this.state.isAuth?r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(v,null)},r.a.createElement($,{logout:e.logout,demo:!1}))}}),r.a.createElement(j.a,{to:"/"})):r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(T,{login:!0,isAuth:e.isAuthHandler})}}),r.a.createElement(j.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(T,{login:!1,isAuth:e.isAuthHandler})}}),r.a.createElement(j.b,{exact:!0,path:"/demo",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(v,null)},r.a.createElement($,{demo:!0}))}}),r.a.createElement(j.a,{to:"/login"}));return r.a.createElement(I.a,{store:Q},r.a.createElement(g.a,null,r.a.createElement(p,null,t)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,4]]]);
//# sourceMappingURL=main.25bb5d74.chunk.js.map