(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var r=a(30),n=a.n(r),i=n.a.create({baseURL:"https://notely-app.herokuapp.com/api/"}),o=n.a.create({baseURL:"https://notely-app.herokuapp.com/api/auth/"})},29:function(e,t,a){e.exports={Loader:"Spinner_Loader__MjuV8",AuthLoader:"Spinner_AuthLoader__2DSo5",load4:"Spinner_load4__n8VQ5"}},4:function(e,t,a){"use strict";a.d(t,"h",(function(){return r})),a.d(t,"p",(function(){return n})),a.d(t,"n",(function(){return i})),a.d(t,"l",(function(){return o})),a.d(t,"m",(function(){return c})),a.d(t,"k",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return l})),a.d(t,"o",(function(){return m})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"i",(function(){return f})),a.d(t,"j",(function(){return b})),a.d(t,"c",(function(){return O})),a.d(t,"r",(function(){return S})),a.d(t,"q",(function(){return E}));var r="RESET_STOPWATCH",n="STOP_STOPWATCH",i="STOPWATCH_START",o="SET_STOPWATCH_TIME",c="STOPWATCH_FIRST_START",s="SET_LAP_TIME",u="CHANGE_POMODORO",l="RESET_POMODORO",m="STOP_POMODORO",p="POMODORO_START",d="POMODORO_FINISHED",h="POMODORO_CYCLE_END",g="CHANGE_TIMER",f="RESET_TIMER",b="SET_FIRST_START",O="PAUSE_TIMER",S="TIMER_START",E="TIMER_CYCLE_END"},45:function(e,t,a){e.exports={Error:"ErrorDisplay_Error__3du5n"}},49:function(e,t,a){e.exports=a(77)},5:function(e,t,a){e.exports={Container:"Auth_Container__x3geK",InnerContainer:"Auth_InnerContainer__34AgS",FormContainer:"Auth_FormContainer__2D9TT",LoginHeader:"Auth_LoginHeader__2f5T9",SignupHeader:"Auth_SignupHeader__2wmE1",Form:"Auth_Form__1PSZq",LoginBtn:"Auth_LoginBtn__SOTxb",FormBottom:"Auth_FormBottom__3bF5T",Move:"Auth_Move__2D-YX",Demo:"Auth_Demo__3sCRP",Link:"Auth_Link__2QhgT",Remember:"Auth_Remember__zJI4p",LoginErrMsg:"Auth_LoginErrMsg__3tQId",SignupErrMsg:"Auth_SignupErrMsg__1A9S4",LoginHideErrMsg:"Auth_LoginHideErrMsg__2h_FQ",SignupHideErrMsg:"Auth_SignupHideErrMsg__mON3K"}},54:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(23),o=a.n(i),c=(a(54),a(13)),s=a(14),u=a(16),l=a(15),m=a(45),p=a.n(m),d=a(11),h=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={hasError:!1},e}return Object(s.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("div",{className:p.a.Error},n.a.createElement("h1",null,"Something went wrong."),n.a.createElement(d.b,{to:"/"},n.a.createElement("button",null,"Back to Notely Home"))):this.props.children}}]),a}(n.a.Component),g=a(22),f=a.n(g),b=a(28),O=a(5),S=a.n(O),E=a(29),_=a.n(E),T=function(e){return n.a.createElement("div",{className:e.auth?_.a.AuthLoader:_.a.Loader},"Loading...")},v=a(12),j=function(e,t,a,r){if(0===t.length||0===a.length)return"Email and password must not be empty.";if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t))return"Please enter a valid email.";if("signup"===e){if(a.length>70)return"Password must be less than 70 characters.";if(a.length<7)return"Password must be at least 7 characters long.";if(a!==r)return"Confirm password must be equal to password."}return""},x=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={email:"",pass:"",confirmPass:"",err:!1,errMsg:"",loading:!1,remember:!1},e.toggleLoading=function(){return e.setState((function(e){return{loading:!e.loading,err:!1,errMsg:""}}))},e.authFailed=function(t){return e.setState({loading:!1,err:!0,errMsg:t})},e.emailHandler=function(t){return e.setState({email:t.target.value,err:!1})},e.passHandler=function(t){return e.setState({pass:t.target.value,err:!1})},e.confirmPassHandler=function(t){return e.setState({confirmPass:t.target.value,err:!1})},e.toggleRemember=function(){return e.setState((function(e){return{remember:!e.remember}}))},e.clearFields=function(){e.setState({email:"",pass:"",confirmPass:"",loading:!1,err:!1,errMsg:"",remember:!1})},e.loginHandler=function(){var t=Object(b.a)(f.a.mark((function t(a){var r,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.state.loading){t.next=3;break}return t.abrupt("return");case 3:if(""===(r=j("login",e.state.email,e.state.pass))){t.next=6;break}return t.abrupt("return",e.authFailed(r));case 6:return e.toggleLoading(),n={email:e.state.email,password:e.state.pass,remember:e.state.remember},t.prev=8,t.next=11,v.a.post("login",n);case 11:i=t.sent,e.successHandler(i,n),t.next=20;break;case 15:if(t.prev=15,t.t0=t.catch(8),!t.t0.response){t.next=19;break}return t.abrupt("return",e.authFailed(t.t0.response.data.msg));case 19:e.authFailed("There was an error logging in.");case 20:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e){return t.apply(this,arguments)}}(),e.signupHandler=function(){var t=Object(b.a)(f.a.mark((function t(a){var r,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.state.loading){t.next=3;break}return t.abrupt("return");case 3:if(""===(r=j("signup",e.state.email,e.state.pass,e.state.confirmPass))){t.next=6;break}return t.abrupt("return",e.authFailed(r));case 6:return e.toggleLoading(),n={email:e.state.email,password:e.state.pass,confirmPassword:e.state.confirmPass,remember:e.state.remember},t.prev=8,t.next=11,v.a.post("signup",n);case 11:i=t.sent,e.successHandler(i,n),t.next=20;break;case 15:if(t.prev=15,t.t0=t.catch(8),!t.t0.response){t.next=19;break}return t.abrupt("return",e.authFailed(t.t0.response.data.msg));case 19:e.authFailed("There was an error signing up");case 20:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e){return t.apply(this,arguments)}}(),e.successHandler=function(t,a){localStorage.token=t.data.token,a.remember?(localStorage.expirationDate=new Date((new Date).getTime()+6048e5),localStorage.expirationTime="604800000"):(localStorage.expirationDate=new Date((new Date).getTime()+108e5),localStorage.expirationTime="10800000"),v.b.defaults.headers.common["x-auth-token"]=t.data.token,localStorage.email=a.email,e.clearFields(),e.props.isAuth()},e}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:S.a.Container},n.a.createElement("div",{className:S.a.InnerContainer},n.a.createElement("div",{className:S.a.FormContainer},n.a.createElement("p",{className:S.a.Demo},"See a demo ",n.a.createElement(d.b,{to:"/demo",onClick:this.clearFields},"here")),n.a.createElement("h1",{className:this.props.login?S.a.LoginHeader:S.a.SignupHeader},"Notely"),n.a.createElement("div",{className:S.a.Form},n.a.createElement("input",{placeholder:"Email",value:this.state.email,onChange:this.emailHandler}),n.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.pass,onChange:this.passHandler}),!this.props.login&&n.a.createElement("input",{type:"password",placeholder:"Confirm Password",value:this.state.confirmPass,onChange:this.confirmPassHandler})),n.a.createElement("p",{className:this.state.err?this.props.login?S.a.LoginErrMsg:S.a.SignupErrMsg:this.props.login?S.a.LoginHideErrMsg:S.a.SignupHideErrMsg},this.state.errMsg),n.a.createElement("div",{className:this.state.err?[S.a.Move,S.a.FormBottom].join(" "):S.a.FormBottom},n.a.createElement("button",{className:S.a.LoginBtn,onClick:this.props.login?this.loginHandler:this.signupHandler},this.props.login?"login":"create"),n.a.createElement("div",{className:S.a.Remember},n.a.createElement("input",{type:"checkbox",onChange:this.toggleRemember,checked:this.state.remember}),n.a.createElement("p",null,"Remember me"))),this.state.loading&&n.a.createElement(T,{auth:!0}),n.a.createElement("p",{className:S.a.Link},this.props.login?"Not registered? ":"Already registered? ",n.a.createElement(d.b,{to:this.props.login?"/signup":"/login",onClick:this.clearFields},this.props.login?"Create an account":"Login")))))}}]),a}(r.Component),A=a(3),M=a(18),y=a(34),H=a(47),k=a(1),D=a(4),w={displayTime:"25:00",pomodoroCount:0,currentMax:25,sec:0,min:25,started:!1},C=function(e,t){var a="".concat(t.time,":00");return Object(k.a)(Object(k.a)({},e),{},{min:t.time,sec:0,started:!1,currentMax:t.time,displayTime:a})},P=function(e,t){var a="".concat(e.currentMax,":00");return Object(k.a)(Object(k.a)({},e),{},{started:!1,min:e.currentMax,sec:0,displayTime:a})},L=function(e,t){var a="".concat(e.currentMax,":00"),r=e.pomodoroCount+1;return Object(k.a)(Object(k.a)({},e),{},{started:!1,min:e.currentMax,sec:0,displayTime:a,pomodoroCount:r})},R=function(e,t){return Object(k.a)(Object(k.a)({},e),{},{displayTime:t.displayTime,sec:t.sec,min:t.min})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.a:return C(e,t);case D.g:return P(e);case D.o:return Object(k.a)(Object(k.a)({},e),{},{started:!1});case D.f:return Object(k.a)(Object(k.a)({},e),{},{started:!0});case D.e:return L(e);case D.d:return R(e,t);default:return e}},N=a(20),I={displayTime:"",hours:0,maxHours:0,min:0,maxMin:0,sec:0,maxSec:0,started:!1,firstStart:!1},B=function(e,t){var a=e.maxSec<10?"0"+e.maxSec:e.maxSec,r=e.maxMin<10?"0"+e.maxMin:e.maxMin,n=0===e.maxHours?"".concat(e.min,":").concat(a):"".concat(e.hours,":").concat(r,":").concat(a);return Object(k.a)(Object(k.a)({},e),{},{firstStart:!0,displayTime:n})},W=function(e,t){var a=e.maxSec<10?"0"+e.maxSec:e.maxSec,r=e.maxMin<10?"0"+e.maxMin:e.maxMin,n=0===e.maxHours?"".concat(e.maxMin,":").concat(a):"".concat(e.maxHours,":").concat(r,":").concat(a);return Object(k.a)(Object(k.a)({},e),{},{started:!1,firstStart:!1,hours:e.maxHours,min:e.maxMin,sec:e.maxSec,displayTime:n})},q=function(e,t){var a=t.sec<10?"0"+t.sec:t.sec,r=t.min<10?"0"+t.min:t.min,n=0===t.hours?"".concat(t.min,":").concat(a):"".concat(t.hours,":").concat(r,":").concat(a);return Object(k.a)(Object(k.a)({},e),{},{hours:t.hours,min:t.min,sec:t.sec,displayTime:n})},z=function(e,t){var a;if(t.e.value<0)return Object(k.a)({},e);var r="maxHours"===t.e.name?"hours":"maxMin"===t.e.name?"min":"sec",n=Number(t.e.value);return Object(k.a)(Object(k.a)({},e),{},(a={},Object(N.a)(a,t.e.name,n),Object(N.a)(a,r,n),a))},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.j:return B(e);case D.c:return Object(k.a)(Object(k.a)({},e),{},{started:!1});case D.r:return Object(k.a)(Object(k.a)({},e),{},{started:!0});case D.i:return W(e);case D.q:return q(e,t);case D.b:return z(e,t);default:return e}},J=a(44),U={displayTime:"00:00.0",lapDisplayTime:"00:00.0",time:{fractionSec:0,sec:0,min:0,started:!1},lapTime:{fractionSec:0,sec:0,min:0,started:!1},laps:[],firstStart:!1},Y=function(e,t){if(!e.time.started){var a=Object(k.a)({},e.time);a.fractionSec=0,a.sec=0,a.min=0,a.started=!1;var r=Object(k.a)({},e.lapTime);return r.fractionSec=0,r.sec=0,r.min=0,r.started=!1,Object(k.a)(Object(k.a)({},e),{},{time:a,lapTime:r,displayTime:"00:00.0",laps:[],firstStart:!1})}var n=Object(k.a)({},e.lapTime),i=n.sec<10?"0"+n.sec:n.sec,o=n.min<10?"0"+n.min:n.min,c="".concat(o,":").concat(i,".").concat(n.fractionSec);n.fractionSec=0,n.sec=0,n.min=0,n.started=!1;var s=Object(J.a)(e.laps);return s.unshift(e.lapDisplayTime),Object(k.a)(Object(k.a)({},e),{},{lapTime:n,lapDisplayTime:c,laps:s})},Z=function(e,t){var a=Object(k.a)({},e.time);return a.started=!1,Object(k.a)(Object(k.a)({},e),{},{time:a})},G=function(e,t){var a=Object(k.a)({},e.time);a.started=!0;var r=Object(k.a)({},e.lapTime);return r.started=!0,Object(k.a)(Object(k.a)({},e),{},{time:a,lapTime:r})},K=function(e,t){return Object(k.a)(Object(k.a)({},e),{},{time:t.time,displayTime:t.displayTime})},V=function(e,t){return Object(k.a)(Object(k.a)({},e),{},{firstStart:!0})},X=function(e,t){return Object(k.a)(Object(k.a)({},e),{},{lapTime:t.lapTime,lapDisplayTime:t.lapDisplayTime})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.h:return Y(e);case D.p:return Z(e);case D.n:return G(e);case D.l:return K(e,t);case D.m:return V(e);case D.k:return X(e,t);default:return e}},ee=n.a.lazy((function(){return Promise.all([a.e(2),a.e(4)]).then(a.bind(null,287))})),te=Object(M.c)({stopwatch:$,pomodoro:F,timer:Q}),ae=Object(M.d)(te,Object(M.a)(H.a)),re=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isAuth:!1},e.logout=function(){localStorage.removeItem("token"),localStorage.removeItem("remember"),localStorage.removeItem("email"),localStorage.removeItem("expirationDate"),localStorage.removeItem("expirationTime"),delete v.b.defaults.headers.common["x-auth-token"],e.setState({isAuth:!1})},e.isAuthHandler=function(){e.setState({isAuth:!0}),setTimeout((function(){return e.logout()}),Number(localStorage.expirationTime))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){localStorage.token;if(localStorage.token&&localStorage.expirationDate){if(new Date(localStorage.expirationDate)<=new Date)return this.logout();v.b.defaults.headers.common["x-auth-token"]=localStorage.token;var e=new Date(localStorage.expirationDate).getTime()-(new Date).getTime();localStorage.expirationTime=e,this.isAuthHandler()}}},{key:"render",value:function(){var e=this,t=this.state.isAuth?n.a.createElement(A.d,null,n.a.createElement(A.b,{exact:!0,path:"/",render:function(){return n.a.createElement(r.Suspense,{fallback:n.a.createElement(T,null)},n.a.createElement(ee,{logout:e.logout,demo:!1}))}}),n.a.createElement(A.a,{to:"/"})):n.a.createElement(A.d,null,n.a.createElement(A.b,{exact:!0,path:"/login",render:function(){return n.a.createElement(x,{login:!0,isAuth:e.isAuthHandler})}}),n.a.createElement(A.b,{exact:!0,path:"/signup",render:function(){return n.a.createElement(x,{login:!1,isAuth:e.isAuthHandler})}}),n.a.createElement(A.b,{exact:!0,path:"/demo",render:function(){return n.a.createElement(r.Suspense,{fallback:n.a.createElement(T,null)},n.a.createElement(ee,{demo:!0}))}}),n.a.createElement(A.a,{to:"/login"}));return n.a.createElement(y.a,{store:ae},n.a.createElement(d.a,null,n.a.createElement(h,null,t)))}}]),a}(r.Component);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(re,null)),document.getElementById("root"))}},[[49,1,3]]]);
//# sourceMappingURL=main.b61cca28.chunk.js.map